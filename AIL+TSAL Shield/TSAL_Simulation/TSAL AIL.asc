Version 4
SHEET 1 2264 780
WIRE 256 -240 -192 -240
WIRE 432 -240 400 -240
WIRE 432 -192 432 -240
WIRE 80 -128 -288 -128
WIRE 160 -128 80 -128
WIRE 672 -128 160 -128
WIRE 752 -128 672 -128
WIRE 1056 -128 752 -128
WIRE 1344 -128 1056 -128
WIRE 1424 -128 1344 -128
WIRE 752 -96 752 -128
WIRE 1056 -96 1056 -128
WIRE 416 -32 304 -32
WIRE 672 -32 672 -128
WIRE 672 -32 640 -32
WIRE 1424 0 1424 -128
WIRE 80 16 80 -128
WIRE 1056 16 1056 -16
WIRE 416 32 352 32
WIRE 752 32 752 -16
WIRE 752 32 640 32
WIRE 416 96 336 96
WIRE 672 96 640 96
WIRE 752 96 752 32
WIRE 160 128 160 -128
WIRE 1056 128 1056 80
WIRE 80 144 80 96
WIRE 128 144 80 144
WIRE -288 160 -288 -128
WIRE 256 160 192 160
WIRE 384 160 256 160
WIRE 416 160 384 160
WIRE 656 160 640 160
WIRE 1056 160 1056 128
WIRE 1344 160 1344 -128
WIRE -192 176 -192 -240
WIRE -96 176 -192 176
WIRE 128 176 -96 176
WIRE 1424 176 1424 80
WIRE 1424 176 1392 176
WIRE 1504 176 1424 176
WIRE -288 224 -288 160
WIRE -192 224 -192 176
WIRE 352 240 352 32
WIRE 672 240 672 96
WIRE 672 240 352 240
WIRE 752 240 752 176
WIRE 752 240 672 240
WIRE 928 240 864 240
WIRE 1008 240 928 240
WIRE 80 256 80 144
WIRE 752 288 752 240
WIRE 1344 304 1344 256
WIRE 656 336 656 160
WIRE 1344 368 1344 304
WIRE 928 432 928 240
WIRE 1344 496 1344 448
WIRE -288 544 -288 304
WIRE -192 544 -192 304
WIRE -192 544 -288 544
WIRE -176 544 -192 544
WIRE 80 544 80 336
WIRE 80 544 -176 544
WIRE 160 544 160 192
WIRE 160 544 80 544
WIRE 304 544 304 -32
WIRE 304 544 160 544
WIRE 656 544 656 400
WIRE 656 544 304 544
WIRE 752 544 752 352
WIRE 752 544 656 544
WIRE 928 624 928 512
WIRE 992 624 928 624
WIRE 1056 624 1056 256
WIRE 1056 624 992 624
WIRE 1344 624 1344 560
WIRE 1344 624 1056 624
WIRE 336 656 336 96
WIRE 864 656 864 240
WIRE 864 656 336 656
WIRE 384 768 384 160
WIRE 1504 768 1504 176
WIRE 1504 768 384 768
FLAG -96 176 DCDC
FLAG -288 160 GLV-Battery
FLAG 992 624 0
FLAG -176 544 0
FLAG 432 -192 0
FLAG 256 160 Select
FLAG 1056 128 Red
FLAG 1344 304 Green
SYMBOL Opamps\\opamp2 160 96 R0
SYMATTR InstName U1
SYMATTR Value LM393
SYMBOL Misc\\NE555 528 64 R0
SYMATTR InstName U2
SYMBOL voltage -192 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 12 0 0 0 2 )
SYMBOL res 64 0 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 64 240 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 736 -112 R0
SYMATTR InstName R3
SYMATTR Value 2k
SYMBOL res 736 80 R0
SYMATTR InstName R4
SYMATTR Value 20k
SYMBOL cap 736 288 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL voltage -288 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL nmos 1008 160 R0
SYMATTR InstName M1
SYMATTR Value IRF7201
SYMBOL res 912 416 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL pmos 1392 256 R180
SYMATTR InstName M2
SYMATTR Value IRF7205
SYMBOL res 1408 -16 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1040 -112 R0
SYMATTR InstName R8
SYMATTR Value 2k
SYMBOL res 1328 352 R0
SYMATTR InstName R9
SYMATTR Value 2k
SYMBOL diode 336 -224 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName AIL
SYMATTR Value 1N914
SYMBOL res 352 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 650
SYMBOL diode 1040 16 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 1328 496 R0
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL cap 640 336 R0
SYMATTR InstName C2
SYMATTR Value 10p
TEXT 1536 272 Left 2 !.include LM393.5_1
TEXT 1536 296 Left 2 !.tran 0 10 1p 1
TEXT 1536 184 Left 2 ;R6 and R7 probably not needed, can test in real life.\nR8 and R9 not needed in real life.\n(The TSALs we use have an internal resistance)
TEXT 1528 -128 Left 2 ;TSAL Circuitry
TEXT 1544 736 Left 2 ;Last updated 7-9-2020 \nBert Steyaert and Sabin Zarrandikoetxea
TEXT 1544 368 Left 2 ;Warning: purchase these exact transistor and OpAmp models
